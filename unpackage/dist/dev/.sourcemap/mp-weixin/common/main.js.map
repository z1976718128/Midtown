{"version":3,"sources":["webpack:///C:/Users/Host/Desktop/Midtown/main.js","webpack:///C:/Users/Host/Desktop/Midtown/App.vue?4f00","webpack:///C:/Users/Host/Desktop/Midtown/App.vue?4db6","webpack:///C:/Users/Host/Desktop/Midtown/App.vue","webpack:///C:/Users/Host/Desktop/Midtown/App.vue?2888","webpack:///C:/Users/Host/Desktop/Midtown/App.vue?8716"],"names":["Vue","config","productionTip","App","mpType","app","$mount","onLaunch","console","log","onShow","onHide","mounted","then","res","methods","beforeMount","ua","navigator","userAgent","toLowerCase","match","url","window","location","href","huoqutoken","localStorage","getItem","undefined","indexOf","baseUrl","data","code","getQueryString","status","token","alert","setItem","msg","name","reg","RegExp","r","search","substr","unescape"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()","var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Host\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('24c23d0e', component.options)\n    } else {\n      api.reload('24c23d0e', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"Midtown/App.vue\"\nexport default component.exports","import mod from \"-!../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","\nimport {getlogin,geturl,getData} from \"./uilt/api.js\"\nexport default {\n\tonLaunch: function() {\n\t\tconsole.log('App Launch')\n\t},\n\tonShow: function() {\n\t\tconsole.log('App Show')\n\t},\n\tonHide: function() {\n\t\tconsole.log('App Hide')\n\t},\n\tmounted() {\n\t\tgetData().then((res)=>{\n\t\t\tconsole.log(res)\n\t\t})\n\t},\n\tmethods:{\n\t\tbeforeMount() {\n\t\t\n\t\tvar ua = navigator.userAgent.toLowerCase();\n\t\t//判断是不是微信环境\n\t\tif (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n\t\t\n\t\t  let url = window.location.href;\n\t\t  let huoqutoken = localStorage.getItem(\"token\");\n\t\t\n\t\t  console.log('当前token',huoqutoken)\n\t\t\n\t\t  if ( huoqutoken === null || huoqutoken == \"\" ||\thuoqutoken == null ||\thuoqutoken == \"null\" ||\thuoqutoken == undefined) {\n\t\t\n\t\t    //如果URL中没有带code\n\t\t    if(window.location.href.indexOf(\"code\") == 0 ||\twindow.location.href.indexOf(\"code\") <= 0){\n\t\t\n\t\t        geturl({\n\t\t          baseUrl: url\n\t\t        }).then((res) => {\n\t\t          console.log(res)\n\t\t          window.location.href = res.data.data;\n\t\t        })\n\t\t\n\t\t    } else {\n\t\t        //如果有带code\n\t\t\n\t\t        let code = this.getQueryString(\"code\");\n\t\t\n\t\t        console.log(code)\n\t\t\n\t\t        getlogin({\n\t\t          code: code\n\t\t        }).then((res) => {\n\t\t          //获取token,储存到本地\n\t\t          if (res.data.status == 1) {\n\t\t            if (!res.data.data.token || res.data.data.token == null) {\n\t\t              alert(\"token出错：\" + res.data.data.token);\n\t\t            }\n\t\t            console.log(\"登录成功\");\n\t\t            console.log(\"token:\", res.data.data.token);\n\t\t            window.localStorage.setItem(\"token\", res.data.data.token);\n\t\t\n\t\t          } else {\n\t\t            alert(res.data.msg);\n\t\t          }\n\t\t        })\n\t\t    }\n\t\t\n\t\t  }\n\t\t\n\t\t}else{\n\t\t  console.log('不是微信环境，默认登录ID 2的用户')\n\t\t  //不是微信环境\n\t\t   window.localStorage.setItem(\"token\", 2);\n\t\t   //模拟一个 假的token ，为  2\n\t\t  //到时候把这个删了，指引去微信\n\t\t}\n\t\t\n\t\t},\n\t\tmethods: {\n\t\t  getQueryString(name) {\n\t\t    let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n\t\t    let r = window.location.search.substr(1).match(reg);\n\t\t    if (r != null) {\n\t\t      return unescape(r[2]);\n\t\t    } else {\n\t\t      return null;\n\t\t    }\n\t\t  }\n\t\t}\n\t}\n}\n","import mod from \"-!../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}